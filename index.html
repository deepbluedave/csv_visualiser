<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSV Dashboard Generator</title>
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/layout.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/view-table.css">
    <link rel="stylesheet" href="css/view-kanban.css">
    <link rel="stylesheet" href="css/view-summary.css">
    <link rel="stylesheet" href="css/view-counts.css">
    <link rel="stylesheet" href="css/view-graph.css">
</head>
<body>
    <!-- Title remains outside the wrapper -->
    <h1>CSV Dashboard Generator</h1>

    <!-- NEW: Dashboard Wrapper Div -->
    <div id="cdg-dashboard-wrapper">

        <!-- Upload Area -->
        <div id="cdg-uploadContainer">
            <label for="cdg-csvFileInput">Upload CSV Data File:</label>
            <input type="file" id="cdg-csvFileInput" accept=".csv">

            <label for="cdg-globalSearchInput" class="visually-hidden">Search:</label>
            <input type="search" id="cdg-globalSearchInput" placeholder="Search visible items..." style="margin-left: 15px; min-width: 200px; padding: 4px 8px;"> <!-- Adjusted margin -->

            <!-- *** NEW EXPORT BUTTON START *** -->
            <button type="button" id="cdg-exportButton" title="Export Current View as CSV" style="margin-left: 10px; padding: 4px 10px; font-size: 0.9em; background-color: #6c757d; color: white; border: none; border-radius: 4px; cursor: pointer;">
                ðŸ“Š Export View
            </button>
            <!-- *** NEW EXPORT BUTTON END *** -->

            <!-- Icon Key pushed further right -->
            <div id="cdg-iconKeyContainer" style="margin-left: auto;">
                <!-- Key rendered here -->
            </div>
        </div>

        <!-- Tab Controls -->
        <div id="cdg-tabControls">
            <!-- Buttons added -->
        </div>

        <!-- Dynamic View Content Area -->
        <div id="cdg-viewContentContainer" class="cdg-view-content-area">
            <!-- View containers added -->
        </div>

    </div> 
    
    <!-- END: Dashboard Wrapper Div -->


    <!-- Scripts remain outside the wrapper -->
    <script src="config.js"></script>
    <script src="js/renderers/renderer-shared.js"></script>
    <script src="js/config-loader.js"></script>
    <script src="js/data-handler.js"></script>
    <script src="js/view-manager.js"></script>
    <script src="js/renderers/renderer-table.js"></script>
    <script src="js/renderers/renderer-kanban.js"></script>
    <script src="js/renderers/renderer-summary.js"></script>
    <script src="js/renderers/renderer-counts.js"></script>
    <script src="js/export-handler.js"></script>

   <!-- *** NEW: Add Vis.js Network library *** -->
   <script type="text/javascript" src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
   <link href="https://unpkg.com/vis-network/styles/vis-network.min.css" rel="stylesheet" type="text/css" />
   <!-- *** END NEW *** -->

   <!-- *** NEW: Add Graph Renderer Script *** -->
   <script src="js/renderers/renderer-graph.js"></script>
   <!-- *** END NEW *** -->

    <script src="js/app.js"></script>

</body>
</html>